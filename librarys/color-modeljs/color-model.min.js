constcodeEle=document.querySelectorAll("code");constcm=document.querySelectorAll("code.cm");letcmcnt=0;for(letidxofcodeEle){if(idx.classList.contains("ncm"))continue;varcontext=idx.innerHTML;//HEXif(context[0]==="#"&&context.length<=7&&parseInt(context.slice(1,context.length-1))!==NaN){appenColorModel(idx);}else//RGBif(context.slice(0,4)==="rgb("&&context.slice(-1)===")"){varrgb=(context.replace(/rgb\(/,"").replace(/\)/,"").replace(//g,"")).split(",");if(Number(rgb[0])<=255&&Number(rgb[1])<=255&&Number(rgb[2])<=255){appenColorModel(idx);}}}for(letidxofcm){appenColorModel(idx);}functionappenColorModel(idx){cmcnt++;idx.style.marginRight="0.2em";idx.style.marginLeft="0.2em";idx.style.position="relative";idx.style.display="inline-block";idx.style.cursor="default";idx.style.paddingLeft="1.5em"varcontext=idx.innerHTML;varcontext=idx.innerHTMLvarcolormodel=document.createElement("div");colormodel.style.position="absolute";colormodel.style.left="0.3em";colormodel.style.bottom="0.3em";colormodel.style.height="0.7em";colormodel.style.width="0.7em";colormodel.style.border="1pxsolid#ebebeb";colormodel.style.outline="1pxsolid#636363";colormodel.style.backgroundColor=`${context}`;idx.appendChild(colormodel);}console.log(`color-model.js:Added${cmcnt}colormodels`);
